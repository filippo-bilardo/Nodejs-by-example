<h1>ðŸ‘¥ Lista Utenti</h1>

<div style="margin-bottom: 20px;">
    <p>Totale: <strong><%= totalUsers %></strong> | Attivi: <strong><%= activeUsers %></strong></p>
    <a href="/users/new" style="display: inline-block; margin-top: 10px; padding: 10px 20px; background: #007bff; color: white; text-decoration: none; border-radius: 4px;">
        âž• Nuovo Utente
    </a>
</div>

<% if (users.length === 0) { %>
    <p>Nessun utente presente.</p>
<% } else { %>
    <table style="width: 100%; border-collapse: collapse; margin-top: 20px;">
        <thead>
            <tr style="background: #f8f9fa;">
                <th style="padding: 12px; text-align: left; border-bottom: 2px solid #dee2e6;">ID</th>
                <th style="padding: 12px; text-align: left; border-bottom: 2px solid #dee2e6;">Nome</th>
                <th style="padding: 12px; text-align: left; border-bottom: 2px solid #dee2e6;">Email</th>
                <th style="padding: 12px; text-align: left; border-bottom: 2px solid #dee2e6;">Ruolo</th>
                <th style="padding: 12px; text-align: left; border-bottom: 2px solid #dee2e6;">Stato</th>
                <th style="padding: 12px; text-align: left; border-bottom: 2px solid #dee2e6;">Azioni</th>
            </tr>
        </thead>
        <tbody>
            <% users.forEach((user, index) => { %>
                <tr style="<%= index % 2 === 0 ? 'background: #f8f9fa' : '' %>">
                    <td style="padding: 12px; border-bottom: 1px solid #dee2e6;"><%= user.id %></td>
                    <td style="padding: 12px; border-bottom: 1px solid #dee2e6;"><%= user.name %></td>
                    <td style="padding: 12px; border-bottom: 1px solid #dee2e6;"><%= user.email %></td>
                    <td style="padding: 12px; border-bottom: 1px solid #dee2e6;">
                        <span style="padding: 3px 8px; background: <%= user.role === 'admin' ? '#ffc107' : '#6c757d' %>; color: white; border-radius: 3px; font-size: 12px;">
                            <%= user.role %>
                        </span>
                    </td>
                    <td style="padding: 12px; border-bottom: 1px solid #dee2e6;">
                        <% if (user.active) { %>
                            <span style="color: #28a745;">âœ“ Attivo</span>
                        <% } else { %>
                            <span style="color: #dc3545;">âœ— Inattivo</span>
                        <% } %>
                    </td>
                    <td style="padding: 12px; border-bottom: 1px solid #dee2e6;">
                        <a href="/users/<%= user.id %>" style="color: #007bff; text-decoration: none;">Dettagli</a>
                    </td>
                </tr>
            <% }) %>
        </tbody>
    </table>
<% } %>
